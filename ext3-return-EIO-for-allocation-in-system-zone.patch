ext3: Return EIO if new block is allocated from system zone.

From: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>

If the block allocator gets blocks out of system zone ext3 calls
ext3_error. But if the file system is mounted with errors=continue
return with -EIO.

System zone is the block range mapping block bitmap, inode bitmap and inode
table.

Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
Signed-off-by: Mingming Cao <cmm@us.vnet.ibm.com>
---

 fs/ext3/balloc.c |    2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)


Index: linux-2.6.25-rc6/fs/ext3/balloc.c
===================================================================
--- linux-2.6.25-rc6.orig/fs/ext3/balloc.c	2008-03-24 14:24:12.000000000 -0700
+++ linux-2.6.25-rc6/fs/ext3/balloc.c	2008-03-24 14:33:36.000000000 -0700
@@ -1642,7 +1642,7 @@ allocated:
 			    "Allocating block in system zone - "
 			    "blocks from "E3FSBLK", length %lu",
 			     ret_block, num);
-		goto out;
+		goto io_error;
 	}
 
 	performed_allocation = 1;
