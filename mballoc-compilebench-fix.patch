ext4: Fix mballoc BUG when running compilebench

From: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>

This fix the mballoc bug when running compile bench.
Instead of using direct division even though the arguments
are 32 bits we retain do_div. This would be needed if we
move to 64 bit logical block number.

Signed-off-by: Aneesh Kumar K.V <aneesh.kumar@linux.vnet.ibm.com>
---

 fs/ext4/mballoc.c |    7 ++++---
 1 file changed, 4 insertions(+), 3 deletions(-)


Index: linux-2.6.24-rc1/fs/ext4/mballoc.c
===================================================================
--- linux-2.6.24-rc1.orig/fs/ext4/mballoc.c	2007-11-02 17:52:24.000000000 -0700
+++ linux-2.6.24-rc1/fs/ext4/mballoc.c	2007-11-02 17:52:25.000000000 -0700
@@ -3090,13 +3090,14 @@ static void ext4_mb_normalize_request(st
 		}
 	}
 	if (wind == 0) {
+		__u64 tstart;
 		/* file is quite large, we now preallocate with
 		 * the biggest configured window with regart to
 		 * logical offset */
 		wind = sbi->s_mb_prealloc_table[i - 1];
-		start = ac->ac_o_ex.fe_logical;
-		do_div(start, wind);
-		start = start * wind;
+		tstart = ac->ac_o_ex.fe_logical;
+		do_div(tstart, wind);
+		start = tstart * wind;
 	}
 	size = wind;
 	orig_size = size;
